<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MoodTask Activities - Science-backed activities to improve your mood and emotional well-being.">
    <meta name="keywords" content="MoodTask, mental health, activities, emotional well-being, stress relief">
    <meta name="robots" content="index, follow">
    <meta name="author" content="MoodTask">
    <title>MoodTask - Activities</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Google AdSense Code -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-15181337633801567" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            color: #333;
            transition: background-color 0.3s ease;
        }
        .nav-bar {
            background-color: #fff;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            max-width: 1400px;
            margin: 0 auto;
            left: 0;
            right: 0;
            height: 60px;
            backdrop-filter: blur(5px);
            background-color: rgba(255, 255, 255, 0.95);
        }
        .nav-bar .logo {
            font-size: 1.5em;
            font-weight: 700;
            color: #4A90E2;
        }
        .nav-bar .nav-links {
            display: flex;
            align-items: center;
            gap: 18px;
            padding-left: 30px;
            padding-right: 20px;
        }
        .nav-bar a {
            padding: 10px 15px;
            text-decoration: none;
            color: #2C3E50;
            font-weight: 400;
            transition: color 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
            border-radius: 5px;
        }
        .nav-bar a:hover {
            background-color: #f0f0f0;
            color: #2C3E50;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .nav-bar a.active {
            background-color: #4A90E2;
            color: white;
            font-weight: 600;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .main-content {
            transition: opacity 0.5s ease;
            padding-top: 60px;
        }
        .main-content.fade-out {
            opacity: 0;
        }
        .main-content.fade-in {
            opacity: 1;
        }
        .hero {
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
            color: white;
            padding: 60px 20px;
            text-align: center;
            position: relative;
        }
        .hero h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .hero p {
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        .content-wrapper {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .welcome-guide {
            flex: 1;
            max-width: 600px;
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin: 20px auto;
            text-align: left;
        }
        .welcome-guide h2 {
            font-size: 1.8em;
            font-weight: 600;
            color: #2C3E50;
            margin-bottom: 15px;
        }
        .welcome-guide h3 {
            font-size: 1.3em;
            font-weight: 500;
            color: #4A90E2;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        .welcome-guide p {
            font-size: 1em;
            line-height: 1.6;
            color: #333;
            margin-bottom: 15px;
        }
        .welcome-guide a {
            color: #4A90E2;
            text-decoration: none;
        }
        .welcome-guide a:hover {
            text-decoration: underline;
        }
        .activity-section {
            margin-top: 30px;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        .activity-section h2 {
            font-size: 1.8em;
            font-weight: 600;
            color: white;
            margin-bottom: 15px;
        }
        .activity-row {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding-bottom: 10px;
            scrollbar-width: thin;
            scrollbar-color: #4A90E2 #2C3E50;
        }
        .activity-row::-webkit-scrollbar {
            height: 8px;
        }
        .activity-row::-webkit-scrollbar-track {
            background: #2C3E50;
            border-radius: 4px;
        }
        .activity-row::-webkit-scrollbar-thumb {
            background: #4A90E2;
            border-radius: 4px;
        }
        .activity-row::-webkit-scrollbar-thumb:hover {
            background: #3B82F6;
        }
        .activity-card {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            width: 200px;
            flex: 0 0 auto;
            text-align: center;
            transition: transform 0.3s, background 0.3s;
        }
        .activity-card:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.3);
        }
        .thumbnail-area {
            width: 100%;
            height: 120px;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #4A90E2, #2C3E50); /* Default gradient */
        }
        .thumbnail-area i {
            font-size: 2.5em;
            color: white;
        }
        .activity-card h3 {
            font-size: 1em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .activity-card .try-button {
            padding: 6px 12px;
            background-color: #4A90E2;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8em;
            transition: background-color 0.3s;
        }
        .activity-card .try-button:hover {
            background-color: #2C3E50;
        }
        /* Category-specific gradients */
        .activity-card.breathing .thumbnail-area {
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
        }
        .activity-card.gratitude .thumbnail-area {
            background: linear-gradient(135deg, #F4A261, #FF6F61);
        }
        .activity-card.meditation .thumbnail-area {
            background: linear-gradient(135deg, #9F7AEA, #B794F4);
        }
        .activity-card.pmr .thumbnail-area {
            background: linear-gradient(135deg, #2C7A7B, #4C9A9B);
        }
        .activity-card.walk .thumbnail-area {
            background: linear-gradient(135deg, #68D391, #48BB78);
        }
        .activity-card.journaling .thumbnail-area {
            background: linear-gradient(135deg, #6B46C1, #805AD5);
        }
        .activity-card.reframing .thumbnail-area {
            background: linear-gradient(135deg, #FF6F61, #E53E3E);
        }
        .activity-summary {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin: 20px auto;
            text-align: left;
            max-width: 600px;
            color: #333;
        }
        .activity-summary .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .activity-summary .header h2 {
            font-size: 1.8em;
            font-weight: 600;
            color: #2C3E50;
            margin-bottom: 5px;
        }
        .activity-summary .header p {
            font-size: 1em;
            color: #555;
            font-style: italic;
        }
        .activity-summary .trend {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 20px;
            padding: 10px;
            border-radius: 5px;
            transition: background 0.3s;
        }
        .activity-summary .trend:hover {
            background: #f5f5f5;
        }
        .activity-summary .trend i {
            font-size: 1.5em;
            color: #4A90E2;
        }
        .activity-summary .trend div {
            flex: 1;
        }
        .activity-summary .trend h4 {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }
        .activity-summary .trend p {
            font-size: 0.95em;
            color: #555;
            margin-bottom: 10px;
            line-height: 1.5;
        }
        .activity-summary .trend .insight {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
            background: #f0f0f0;
            padding: 10px;
            border-left: 3px solid #4A90E2;
            border-radius: 5px;
            line-height: 1.5;
        }
        .activity-summary .cta-button {
            display: block;
            text-align: center;
            padding: 10px;
            background-color: #4A90E2;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-weight: 600;
            transition: background-color 0.3s;
            margin-top: 20px;
        }
        .activity-summary .cta-button:hover {
            background-color: #2C3E50;
        }
        .footer {
            background-color: #333;
            color: white;
            padding: 40px 20px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            text-align: left;
        }
        .footer h3 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        .footer a {
            color: #D6D1F5;
            text-decoration: none;
            display: block;
            margin: 5px 0;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .footer .affiliate-note {
            font-size: 0.8em;
            color: #aaa;
            margin-top: 20px;
            text-align: center;
            width: 100%;
        }
        .footer .connect a {
            padding: 10px 20px;
            margin: 5px 0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 5px;
            text-decoration: none;
        }
        .footer .connect .coffee {
            background-color: #FFC107;
            color: #333;
        }
        .footer .connect .therapy {
            background-color: #4A90E2;
            color: white;
        }
        .footer .connect .mindfulness {
            background-color: #6BCB77;
            color: white;
        }
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .popup-content {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            position: relative;
            text-align: center;
            font-size: 1em;
            line-height: 1.6;
            font-weight: 400;
        }
        .popup-content h4 {
            font-size: 1.3em;
            font-weight: 600;
            line-height: 1.6;
            color: #2C3E50;
        }
        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 1.2em;
            cursor: pointer;
            color: #333;
        }
        .task-tiles {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 10px 0;
        }
        .task-tile {
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 0.9em;
            font-weight: 500;
            line-height: 1.6;
            transition: transform 0.2s, box-shadow 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            width: 120px;
            height: 80px;
            padding: 10px;
            text-align: center;
        }
        .task-tile:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .task-tile.breathing-type {
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
        }
        .task-tile.breathing-type:hover {
            background: linear-gradient(135deg, #3B82F6, #1A2A44);
        }
        .task-tile.gratitude-type {
            background: linear-gradient(135deg, #F4A261, #FF6F61);
        }
        .task-tile.gratitude-type:hover {
            background: linear-gradient(135deg, #ED8936, #F56565);
        }
        .task-tile.meditation-type {
            background: linear-gradient(135deg, #9F7AEA, #B794F4);
        }
        .task-tile.meditation-type:hover {
            background: linear-gradient(135deg, #805AD5, #9F7AEA);
        }
        .task-tile.pmr-type {
            background: linear-gradient(135deg, #2C7A7B, #4C9A9B);
        }
        .task-tile.pmr-type:hover {
            background: linear-gradient(135deg, #1A5F60, #2C7A7B);
        }
        .task-tile.walk-type {
            background: linear-gradient(135deg, #68D391, #48BB78);
        }
        .task-tile.walk-type:hover {
            background: linear-gradient(135deg, #48BB78, #38A169);
        }
        .task-tile.journaling-type {
            background: linear-gradient(135deg, #6B46C1, #805AD5);
        }
        .task-tile.journaling-type:hover {
            background: linear-gradient(135deg, #553C9A, #6B46C1);
        }
        .task-tile.reframing-type {
            background: linear-gradient(135deg, #FF6F61, #E53E3E);
        }
        .task-tile.reframing-type:hover {
            background: linear-gradient(135deg, #F56565, #C53030);
        }
        #breathing-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #2C3E50;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-size: 1em;
            margin: 20px auto;
            transition: all 0.3s;
        }
        #breathing-circle.inhale { transform: scale(1.2); background: #4A90E2; }
        #breathing-circle.hold { transform: scale(1); background: #3B82F6; }
        #breathing-circle.exhale { transform: scale(0.8); background: #2C3E50; }
        .progress-container {
            width: 100%;
            background: #ddd;
            border-radius: 5px;
            margin: 10px 0;
        }
        .progress-bar {
            width: 0;
            height: 10px;
            background: #4A90E2;
            border-radius: 5px;
            transition: width 1s linear;
        }
        #breathing-instruction, #meditation-prompt, #pmr-prompt, #walk-timer, #journaling-prompt, #reframing-prompt {
            margin: 10px 0;
            font-size: 1.1em;
            line-height: 1.6;
            font-weight: 500;
        }
        #journaling-text, #reframing-text {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin: 10px 0;
            resize: none;
            font-size: 1em;
            line-height: 1.6;
            font-weight: 400;
        }
        .action-button {
            background: #4A90E2;
            color: #fff;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 1em;
            font-weight: 500;
            line-height: 1.6;
            transition: background-color 0.3s;
        }
        .action-button:hover {
            background: #2C3E50;
        }
        .log-button {
            padding: 8px 15px;
            background-color: #6BCB77;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s;
            margin-top: 10px;
            display: none;
        }
        .log-button.active {
            display: inline-block;
        }
        .log-button:hover {
            background-color: #5BBF66;
        }
        .affirmation {
            display: none;
            color: #4A90E2;
            font-style: italic;
            margin-top: 10px;
        }
        @media (max-width: 600px) {
            .nav-bar {
                flex-direction: column;
                gap: 8px;
                padding: 10px 20px;
                height: auto;
                min-height: 120px;
            }
            .nav-bar .nav-links {
                flex-direction: column;
                gap: 8px;
                align-items: center;
                width: 100%;
                padding-left: 0;
                padding-right: 0;
            }
            .nav-bar a {
                padding: 8px 20px;
                width: 100%;
                text-align: center;
                box-sizing: border-box;
            }
            .main-content {
                padding-top: 130px;
            }
            .hero {
                padding: 40px 15px;
            }
            .hero h1 {
                font-size: 1.8em;
            }
            .activity-card {
                width: 150px;
            }
            .thumbnail-area {
                height: 90px;
            }
            .thumbnail-area i {
                font-size: 2em;
            }
            .activity-summary {
                margin: 20px 10px;
                max-width: 100%;
                padding: 20px;
            }
            .activity-summary .header h2 {
                font-size: 1.5em;
            }
            .activity-summary .header p {
                font-size: 0.95em;
            }
            .activity-summary .trend h4 {
                font-size: 1.1em;
            }
            .activity-summary .trend p {
                font-size: 0.9em;
            }
            .content-wrapper {
                flex-direction: column;
                padding: 0 10px;
            }
            .welcome-guide {
                margin: 20px auto;
                max-width: 100%;
                padding: 20px;
            }
            .welcome-guide h2 {
                font-size: 1.5em;
            }
            .welcome-guide h3 {
                font-size: 1.2em;
            }
            .welcome-guide p {
                font-size: 0.95em;
            }
            .task-tile {
                width: 100px;
                height: 70px;
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>
    <div class="nav-bar">
        <div class="logo">MoodTask</div>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="calendar.html">Dashboard</a>
            <a href="activities.html" class="active">Activities</a>
            <a href="music.html">Mood Music</a>
            <a href="blog.html">Blog</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Use</a>
        </div>
    </div>
    <div class="main-content fade-in">
        <div class="hero">
            <h1>Boost Your Mood with Activities</h1>
            <p>Discover science-backed activities to improve your emotional well-being.</p>
            <div class="activity-section">
                <div class="activity-section">
                    <h2>Breathing Exercises</h2>
                    <div class="activity-row">
                        <div class="activity-card breathing" data-tool="breathing" data-technique="diaphragmatic">
                            <div class="thumbnail-area">
                                <i class="fas fa-wind"></i>
                            </div>
                            <h3>360 Diaphragmatic</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card breathing" data-tool="breathing" data-technique="resonance">
                            <div class="thumbnail-area">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <h3>Resonance</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card breathing" data-tool="breathing" data-technique="4-7-8">
                            <div class="thumbnail-area">
                                <i class="fas fa-clock"></i>
                            </div>
                            <h3>4-7-8</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card breathing" data-tool="breathing" data-technique="box">
                            <div class="thumbnail-area">
                                <i class="fas fa-square"></i>
                            </div>
                            <h3>Box Breathing</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Gratitude Notes</h2>
                    <div class="activity-row">
                        <div class="activity-card gratitude" data-tool="gratitude" data-technique="daily">
                            <div class="thumbnail-area">
                                <i class="fas fa-sun"></i>
                            </div>
                            <h3>Daily Gratitude</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card gratitude" data-tool="gratitude" data-technique="relationships">
                            <div class="thumbnail-area">
                                <i class="fas fa-heart"></i>
                            </div>
                            <h3>Relationships</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card gratitude" data-tool="gratitude" data-technique="achievements">
                            <div class="thumbnail-area">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h3>Achievements</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Guided Meditation</h2>
                    <div class="activity-row">
                        <div class="activity-card meditation" data-tool="meditation" data-technique="breath-awareness">
                            <div class="thumbnail-area">
                                <i class="fas fa-wind"></i>
                            </div>
                            <h3>Breath Awareness</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card meditation" data-tool="meditation" data-technique="body-scan">
                            <div class="thumbnail-area">
                                <i class="fas fa-user"></i>
                            </div>
                            <h3>Body Scan</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card meditation" data-tool="meditation" data-technique="visualization">
                            <div class="thumbnail-area">
                                <i class="fas fa-eye"></i>
                            </div>
                            <h3>Visualization</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Progressive Muscle Relaxation</h2>
                    <div class="activity-row">
                        <div class="activity-card pmr" data-tool="pmr" data-technique="full-body">
                            <div class="thumbnail-area">
                                <i class="fas fa-hand"></i>
                            </div>
                            <h3>Full Body</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card pmr" data-tool="pmr" data-technique="lower-body">
                            <div class="thumbnail-area">
                                <i class="fas fa-shoe-prints"></i>
                            </div>
                            <h3>Lower Body</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card pmr" data-tool="pmr" data-technique="upper-body">
                            <div class="thumbnail-area">
                                <i class="fas fa-dumbbell"></i>
                            </div>
                            <h3>Upper Body</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Nature Walk</h2>
                    <div class="activity-row">
                        <div class="activity-card walk" data-tool="walk" data-technique="mindful">
                            <div class="thumbnail-area">
                                <i class="fas fa-tree"></i>
                            </div>
                            <h3>Mindful Walk</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card walk" data-tool="walk" data-technique="sensory">
                            <div class="thumbnail-area">
                                <i class="fas fa-eye"></i>
                            </div>
                            <h3>Sensory Focus</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card walk" data-tool="walk" data-technique="gratitude">
                            <div class="thumbnail-area">
                                <i class="fas fa-flower"></i>
                            </div>
                            <h3>Gratitude Walk</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Mindful Journaling</h2>
                    <div class="activity-row">
                        <div class="activity-card journaling" data-tool="journaling" data-technique="emotions">
                            <div class="thumbnail-area">
                                <i class="fas fa-pen"></i>
                            </div>
                            <h3>Explore Emotions</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card journaling" data-tool="journaling" data-technique="goals">
                            <div class="thumbnail-area">
                                <i class="fas fa-lightbulb"></i>
                            </div>
                            <h3>Reflect on Goals</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card journaling" data-tool="journaling" data-technique="challenges">
                            <div class="thumbnail-area">
                                <i class="fas fa-mountain"></i>
                            </div>
                            <h3>Address Challenges</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Cognitive Reframing</h2>
                    <div class="activity-row">
                        <div class="activity-card reframing" data-tool="reframing" data-technique="negative-thought">
                            <div class="thumbnail-area">
                                <i class="fas fa-brain"></i>
                            </div>
                            <h3>Reframe a Negative Thought</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card reframing" data-tool="reframing" data-technique="stressful-event">
                            <div class="thumbnail-area">
                                <i class="fas fa-cloud"></i>
                            </div>
                            <h3>Reframe a Stressful Event</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                        <div class="activity-card reframing" data-tool="reframing" data-technique="self-criticism">
                            <div class="thumbnail-area">
                                <i class="fas fa-smile"></i>
                            </div>
                            <h3>Reframe Self-Criticism</h3>
                            <button class="try-button">Try Now</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="activity-summary" id="activitySummary">
                <div class="header">
                    <h2>Your Activity Insights</h2>
                    <p>Track Your Progress and See What Works</p>
                </div>
                <div class="trend" id="recentActivity">
                    <i class="fas fa-history"></i>
                    <div>
                        <h4>Most Recent Activity</h4>
                        <p id="recentActivityText">Loading...</p>
                        <div class="insight" id="recentActivityInsight">Loading...</div>
                    </div>
                </div>
                <div class="trend" id="frequentActivity">
                    <i class="fas fa-chart-bar"></i>
                    <div>
                        <h4>Most Frequent Activity</h4>
                        <p id="frequentActivityText">Loading...</p>
                        <div class="insight" id="frequentActivityInsight">Loading...</div>
                    </div>
                </div>
                <a href="index.html" class="cta-button" id="logMoodCTA">Log Today's Mood</a>
            </div>
        </div>
        <div class="content-wrapper">
            <div class="welcome-guide">
                <h2>Your Guide to Mood-Boosting Activities</h2>
                <p>Welcome to MoodTask’s Activities page, your go-to resource for improving emotional well-being through science-backed tools. We understand that life can be overwhelming, and small, intentional actions can make a big difference in how you feel. That’s why we’ve curated a variety of activities—such as Breathing Exercises, Gratitude Notes, Guided Meditation, Progressive Muscle Relaxation, Nature Walks, Mindful Journaling, and Cognitive Reframing—to support you in moments of stress, anxiety, or low energy. Each activity is designed to help you reconnect with yourself, reduce negative emotions, and foster a sense of balance. Whether you’re looking to calm your mind, boost positivity, or process your feelings, there’s an activity here for you. Dive in and discover how these tools can transform your daily experience.</p>
                
                <h3>Why These Activities Work</h3>
                <p>Engaging in intentional activities can profoundly impact your mental health by targeting specific neurological and physiological pathways. For example, deep breathing exercises, as noted by neuroscientist Dr. Andrew Huberman, activate the parasympathetic nervous system, which slows your heart rate and reduces cortisol levels, helping you feel calmer within minutes. A 2018 study in <em>Psychophysiology</em> supports this, showing a 20% reduction in stress after just 2 minutes of diaphragmatic breathing (Ma et al., 2018). Similarly, gratitude practices increase dopamine and enhance activity in the brain’s prefrontal cortex, improving emotional regulation, according to a 2016 study in the <em>Journal of Neuroscience</em> (Fox et al., 2016). Activities like Mindful Journaling and Cognitive Reframing, rooted in cognitive-behavioral therapy, help you process emotions and shift negative thought patterns, fostering resilience. At MoodTask, we’ve carefully selected these tools to provide quick, effective ways to improve your emotional state, backed by decades of research in psychology and neuroscience.</p>
                
                <h3>How to Use This Page</h3>
                <p>Getting started with MoodTask’s activities is simple and intuitive. Browse the sections below, each dedicated to a unique tool like Breathing Exercises or Gratitude Notes. Within each section, you’ll find a row of options—like 4-7-8 or Box Breathing for Breathing Exercises. Select an option by clicking "Try Now" to open a popup with guided prompts. After finishing, log your activity to track your journey over time on our <a href="calendar.html">Dashboard</a>. We recommend exploring all the options to discover which ones resonate most with you—whether you need to relax, refocus, or build emotional strength. Each activity takes just a few minutes but can have a lasting impact on your day.</p>
                
                <h3>Maximizing Your Experience</h3>
                <p>To get the most out of these activities, consistency and mindfulness are key. Start by setting aside 5-10 minutes each day to try one activity—perhaps a breathing exercise in the morning to start your day calmly, or a gratitude reflection before bed to end on a positive note. Pair activities with complementary tools on MoodTask: for example, listen to our <a href="music.html">Relaxation playlist</a> during a Guided Meditation session to enhance the calming effect. Track your mood before and after each activity on our Dashboard to see patterns over time—this can help you identify which activities work best for you. Don’t rush; focus on being fully present during each session, whether you’re journaling or taking a nature walk. Over time, these small habits can become powerful tools for managing stress and cultivating a more balanced, joyful life.</p>
                
                <h3>Explore More with MoodTask</h3>
                <p>Your journey to emotional wellness doesn’t stop here—MoodTask offers a variety of resources to support you. After trying these activities, visit our <a href="music.html">Mood Music</a> page to find calming tracks for relaxation or upbeat playlists to energize your day. Our <a href="blog.html">Blog</a> offers in-depth articles on mindfulness, stress management, and mental health, packed with science-backed tips to complement your activities. For a more personalized experience, explore our affiliate partners’ offerings, such as <a href="https://www.mindfulness.com/?aff_id=67890">mindfulness apps</a> for guided meditations or <a href="https://www.online-therapy.com/?aff_id=12345">online therapy</a> for professional support. MoodTask is here to help you create a more balanced, joyful life, one activity at a time. Start exploring today and see the difference these tools can make!</p>
            </div>
        </div>
        <div class="footer">
            <div>
                <h3>MoodTask</h3>
                <p>Transform your mood with science-backed activities designed to improve your emotional well-being.</p>
            </div>
            <div>
                <h3>Quick Links</h3>
                <a href="index.html">Home</a>
                <a href="privacy.html">Privacy Policy</a>
                <a href="terms.html">Terms of Use</a>
            </div>
            <div class="connect">
                <h3>Connect</h3>
                <a href="https://twitter.com/share?url=https://moodtask.org"><i class="fab fa-twitter"></i> Share on Twitter</a>
                <a href="https://www.buymeacoffee.com/moodtask" class="coffee"><i class="fas fa-coffee"></i> Buy Me a Coffee</a>
                <a href="https://www.online-therapy.com/?aff_id=12345" class="therapy">Online Therapy</a>
                <a href="https://www.mindfulness.com/?aff_id=67890" class="mindfulness">Mindfulness</a>
            </div>
            <div class="affiliate-note">
                AFFILIATE DISCLOSURE: Some links on this site are affiliate links. We may earn a commission on purchases at no extra cost to you.<br>
                © 2025 MoodTask. All rights reserved.
            </div>
        </div>

        <!-- Popups -->
        <div id="breathing-popup" class="popup">
            <div class="popup-content">
                <h4>Breathing Exercises</h4>
                <p id="breathing-instruction"></p>
                <div id="breathing-circle" style="display: none;"><span id="breathing-step">Inhale</span></div>
                <button class="action-button" id="breathing-try-another" style="display: none;" onclick="resetBreathing()">Try Another</button>
                <button class="log-button" id="breathing-log">Log Activity</button>
                <p class="affirmation">Well done completing the breathing exercise.</p>
                <button class="close-button" onclick="closePopup('breathing')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="gratitude-popup" class="popup">
            <div class="popup-content">
                <h4>Gratitude Notes</h4>
                <p id="gratitude-prompt"></p>
                <textarea id="gratitude-text" rows="3" style="display: none;"></textarea>
                <button class="action-button" id="gratitude-save" style="display: none;" onclick="saveGratitude()">Save Gratitude</button>
                <button class="log-button" id="gratitude-log">Log Activity</button>
                <p class="affirmation">Your gratitude note has been saved successfully.</p>
                <button class="close-button" onclick="closePopup('gratitude')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="meditation-popup" class="popup">
            <div class="popup-content">
                <h4>Guided Meditation</h4>
                <p id="meditation-prompt"></p>
                <button class="action-button" id="meditation-try-another" style="display: none;" onclick="resetMeditation()">Try Another</button>
                <button class="log-button" id="meditation-log">Log Activity</button>
                <p class="affirmation">Thank you for taking time to center yourself.</p>
                <button class="close-button" onclick="closePopup('meditation')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="pmr-popup" class="popup">
            <div class="popup-content">
                <h4>Progressive Muscle Relaxation</h4>
                <p id="pmr-prompt"></p>
                <button class="action-button" id="pmr-try-another" style="display: none;" onclick="resetPMR()">Try Another</button>
                <button class="log-button" id="pmr-log">Log Activity</button>
                <p class="affirmation">Thank you for taking time to relax your body.</p>
                <button class="close-button" onclick="closePopup('pmr')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="walk-popup" class="popup">
            <div class="popup-content">
                <h4>Nature Walk</h4>
                <div class="progress-container"><div id="walk-progress" class="progress-bar"></div></div>
                <p id="walk-timer"></p>
                <button class="log-button" id="walk-log">Log Activity</button>
                <p class="affirmation">Great job connecting with nature.</p>
                <button class="close-button" onclick="closePopup('walk')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="journaling-popup" class="popup">
            <div class="popup-content">
                <h4>Mindful Journaling</h4>
                <p id="journaling-prompt"></p>
                <textarea id="journaling-text" rows="3" style="display: none;"></textarea>
                <button class="action-button" id="journaling-save" style="display: none;" onclick="saveJournaling()">Save Entry</button>
                <button class="log-button" id="journaling-log">Log Activity</button>
                <p class="affirmation">Thank you for reflecting mindfully.</p>
                <button class="close-button" onclick="closePopup('journaling')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="reframing-popup" class="popup">
            <div class="popup-content">
                <h4>Cognitive Reframing</h4>
                <p id="reframing-prompt"></p>
                <textarea id="reframing-text" rows="3" style="display: none;"></textarea>
                <button class="action-button" id="reframing-save" style="display: none;" onclick="saveReframing()">Save Reframe</button>
                <button class="log-button" id="reframing-log">Log Activity</button>
                <p class="affirmation">Great job shifting your perspective.</p>
                <button class="close-button" onclick="closePopup('reframing')"><i class="fas fa-times"></i></button>
            </div>
        </div>
    </div>
    <script>
        function adjustMainContentPadding() {
            const navBar = document.querySelector('.nav-bar');
            const mainContent = document.querySelector('.main-content');
            if (navBar && mainContent) {
                const navHeight = navBar.offsetHeight;
                mainContent.style.paddingTop = `${navHeight + 10}px`;
                console.log('Adjusted main content padding to:', mainContent.style.paddingTop);
            } else {
                console.error('Nav bar or main content not found for padding adjustment');
            }
        }

        function setupActivityCards() {
            const tryButtons = document.querySelectorAll('.try-button');
            tryButtons.forEach((button) => {
                button.addEventListener('click', () => {
                    const card = button.closest('.activity-card');
                    const tool = card.getAttribute('data-tool');
                    const technique = card.getAttribute('data-technique');
                    openPopup(tool, technique);
                    console.log(`Opened popup for activity: ${tool}, technique: ${technique}`);
                });
            });

            // Setup log buttons in popups
            const logButtons = document.querySelectorAll('.log-button');
            logButtons.forEach((button) => {
                button.addEventListener('click', () => {
                    const popup = button.closest('.popup');
                    const tool = popup.id.split('-')[0];
                    const activityName = popup.querySelector('h4').textContent;
                    const today = new Date('2025-04-27').toISOString().split('T')[0];
                    const activityKey = `activity-${today}`;
                    let activities = JSON.parse(localStorage.getItem(activityKey)) || [];
                    activities.push({ name: activityName, timestamp: new Date().toISOString() });
                    localStorage.setItem(activityKey, JSON.stringify(activities));
                    console.log(`Logged activity: ${activityName} on ${today}`);
                    analyzeActivityTrends();
                    button.textContent = 'Logged!';
                    button.disabled = true;
                    button.style.backgroundColor = '#A9A9A9';
                });
            });
            console.log('Activity cards set up with', tryButtons.length, 'try buttons');
        }

        function openPopup(tool, technique) {
            const popup = document.getElementById(`${tool}-popup`);
            popup.style.display = 'flex';
            const logButton = popup.querySelector('.log-button');
            logButton.classList.add('active');

            // Automatically start the technique
            if (tool === 'breathing') startBreathingTechnique(technique);
            if (tool === 'gratitude') startGratitudeTechnique(technique);
            if (tool === 'meditation') startMeditationTechnique(technique);
            if (tool === 'pmr') startPMRTechnique(technique);
            if (tool === 'walk') {
                initWalk();
                startWalkTechnique(technique);
            }
            if (tool === 'journaling') startJournalingTechnique(technique);
            if (tool === 'reframing') startReframingTechnique(technique);
        }

        function closePopup(tool) {
            const popup = document.getElementById(`${tool}-popup`);
            popup.style.display = 'none';
            if (tool === 'breathing') stopBreathing();
            if (tool === 'meditation') resetMeditation();
            if (tool === 'pmr') resetPMR();
            if (tool === 'walk') stopWalk();
            if (tool === 'gratitude') resetGratitude();
            if (tool === 'journaling') resetJournaling();
            if (tool === 'reframing') resetReframing();
        }

        // Breathing Exercises
        let breathingInterval = null;
        function startBreathingTechnique(type) {
            const circle = document.getElementById('breathing-circle');
            const stepText = document.getElementById('breathing-step');
            const instruction = document.getElementById('breathing-instruction');
            const tryAnotherButton = document.getElementById('breathing-try-another');
            let phaseIndex = 0;
            let phaseTime = 0;

            const techniques = {
                'diaphragmatic': {
                    instruction: 'Place a hand on your belly. Inhale deeply through your nose, expanding your belly, then exhale slowly. Practice for 60 seconds.',
                    phases: [
                        { name: 'inhale', duration: 4, text: 'Inhale' },
                        { name: 'hold', duration: 2, text: 'Hold' },
                        { name: 'exhale', duration: 6, text: 'Exhale' }
                    ]
                },
                'resonance': {
                    instruction: 'Breathe smoothly through your nose. Inhale for 5 seconds, exhale for 5 seconds to find your rhythm. Practice for 60 seconds.',
                    phases: [
                        { name: 'inhale', duration: 5, text: 'Inhale' },
                        { name: 'exhale', duration: 5, text: 'Exhale' }
                    ]
                },
                '4-7-8': {
                    instruction: 'Inhale quietly through your nose for 4 seconds, hold for 7 seconds, then exhale through pursed lips for 8 seconds. Practice for 60 seconds.',
                    phases: [
                        { name: 'inhale', duration: 4, text: 'Inhale' },
                        { name: 'hold', duration: 7, text: 'Hold' },
                        { name: 'exhale', duration: 8, text: 'Exhale' }
                    ]
                },
                'box': {
                    instruction: 'Inhale through your nose for 4 seconds, hold for 4 seconds, exhale for 4 seconds, hold again for 4 seconds—like a box pattern. Practice for 60 seconds.',
                    phases: [
                        { name: 'inhale', duration: 4, text: 'Inhale' },
                        { name: 'hold', duration: 4, text: 'Hold' },
                        { name: 'exhale', duration: 4, text: 'Exhale' },
                        { name: 'hold', duration: 4, text: 'Hold' }
                    ]
                }
            };

            const selectedTechnique = techniques[type];
            const phases = selectedTechnique.phases;
            instruction.textContent = selectedTechnique.instruction;
            circle.style.display = 'flex';
            tryAnotherButton.style.display = 'inline-flex';

            if (breathingInterval) clearInterval(breathingInterval);

            breathingInterval = setInterval(() => {
                phaseTime++;
                const currentPhase = phases[phaseIndex];
                if (phaseTime >= currentPhase.duration) {
                    phaseTime = 0;
                    phaseIndex = (phaseIndex + 1) % phases.length;
                    const nextPhase = phases[phaseIndex];
                    stepText.textContent = nextPhase.text;
                    circle.className = 'inhale hold exhale';
                    circle.classList.add(nextPhase.name);
                }
            }, 1000);

            setTimeout(() => {
                stopBreathing();
                document.querySelector('#breathing-popup .affirmation').style.display = 'block';
            }, 60000);
        }

        function stopBreathing() {
            if (breathingInterval) {
                clearInterval(breathingInterval);
                breathingInterval = null;
            }
        }

        function resetBreathing() {
            stopBreathing();
            const circle = document.getElementById('breathing-circle');
            const instruction = document.getElementById('breathing-instruction');
            const tryAnotherButton = document.getElementById('breathing-try-another');
            const affirmation = document.querySelector('#breathing-popup .affirmation');
            circle.style.display = 'none';
            instruction.textContent = '';
            tryAnotherButton.style.display = 'none';
            affirmation.style.display = 'none';
        }

        // Gratitude Notes
        function startGratitudeTechnique(type) {
            const textArea = document.getElementById('gratitude-text');
            const saveButton = document.getElementById('gratitude-save');
            const prompt = document.getElementById('gratitude-prompt');
            const prompts = {
                'daily': 'Write about three things you are grateful for today.',
                'relationships': 'Reflect on a relationship that brings you joy and why.',
                'achievements': 'Describe a recent achievement you’re proud of and how it made you feel.'
            };
            prompt.textContent = prompts[type];
            textArea.style.display = 'block';
            saveButton.style.display = 'inline-flex';
            textArea.placeholder = prompts[type];
        }

        function saveGratitude() {
            const text = document.getElementById('gratitude-text').value;
            if (text) {
                const today = new Date('2025-04-27').toISOString().split('T')[0];
                let entries = JSON.parse(localStorage.getItem(`gratitude-${today}`)) || [];
                entries.push({ text, timestamp: new Date().toISOString() });
                localStorage.setItem(`gratitude-${today}`, JSON.stringify(entries));
                document.querySelector('#gratitude-popup .affirmation').style.display = 'block';
                document.getElementById('gratitude-save').style.display = 'none';
            }
        }

        function resetGratitude() {
            const prompt = document.getElementById('gratitude-prompt');
            const textArea = document.getElementById('gratitude-text');
            const saveButton = document.getElementById('gratitude-save');
            const affirmation = document.querySelector('#gratitude-popup .affirmation');
            prompt.textContent = '';
            textArea.style.display = 'none';
            textArea.value = '';
            saveButton.style.display = 'none';
            affirmation.style.display = 'none';
        }

        // Guided Meditation
        function startMeditationTechnique(type) {
            const prompt = document.getElementById('meditation-prompt');
            const tryAnotherButton = document.getElementById('meditation-try-another');
            const prompts = {
                'breath-awareness': 'Focus on your breath. Inhale deeply, exhale slowly, and notice the air moving through your body for 60 seconds.',
                'body-scan': 'Close your eyes and mentally scan your body from head to toe, noticing any sensations without judgment for 60 seconds.',
                'visualization': 'Imagine a peaceful place—like a beach or forest. Picture the details and immerse yourself for 60 seconds.'
            };
            prompt.textContent = prompts[type];
            setTimeout(() => {
                prompt.textContent = 'Meditation complete. Take a moment to notice how you feel.';
                tryAnotherButton.style.display = 'inline-flex';
                document.querySelector('#meditation-popup .affirmation').style.display = 'block';
            }, 60000);
        }

        function resetMeditation() {
            const prompt = document.getElementById('meditation-prompt');
            const tryAnotherButton = document.getElementById('meditation-try-another');
            const affirmation = document.querySelector('#meditation-popup .affirmation');
            prompt.textContent = '';
            tryAnotherButton.style.display = 'none';
            affirmation.style.display = 'none';
        }

        // Progressive Muscle Relaxation
        let pmrIndex = 0;
        let pmrInterval = null;
        function startPMRTechnique(type) {
            const prompt = document.getElementById('pmr-prompt');
            const tryAnotherButton = document.getElementById('pmr-try-another');
            const muscleGroups = {
                'full-body': [
                    'Clench your fists tightly for 5 seconds, then relax for 10 seconds.',
                    'Tense your arms by flexing your biceps for 5 seconds, then relax for 10 seconds.',
                    'Shrug your shoulders up to your ears for 5 seconds, then relax for 10 seconds.',
                    'Tense your stomach muscles for 5 seconds, then relax for 10 seconds.',
                    'Clench your thighs for 5 seconds, then relax for 10 seconds.',
                    'Point your toes upward to tense your calves for 5 seconds, then relax for 10 seconds.'
                ],
                'lower-body': [
                    'Clench your thighs for 5 seconds, then relax for 10 seconds.',
                    'Point your toes upward to tense your calves for 5 seconds, then relax for 10 seconds.',
                    'Curl your toes under to tense your feet for 5 seconds, then relax for 10 seconds.'
                ],
                'upper-body': [
                    'Clench your fists tightly for 5 seconds, then relax for 10 seconds.',
                    'Tense your arms by flexing your biceps for 5 seconds, then relax for 10 seconds.',
                    'Shrug your shoulders up to your ears for 5 seconds, then relax for 10 seconds.'
                ]
            };
            const selectedGroups = muscleGroups[type];
            pmrIndex = 0;

            function nextStep() {
                if (pmrIndex < selectedGroups.length) {
                    prompt.textContent = selectedGroups[pmrIndex];
                    pmrIndex++;
                    setTimeout(() => {
                        prompt.textContent = 'Relax and breathe deeply...';
                        setTimeout(nextStep, 10000);
                    }, 5000);
                } else {
                    prompt.textContent = 'PMR session complete. Take a moment to notice how relaxed you feel.';
                    tryAnotherButton.style.display = 'inline-flex';
                    document.querySelector('#pmr-popup .affirmation').style.display = 'block';
                    clearInterval(pmrInterval);
                }
            }

            nextStep();
        }

        function resetPMR() {
            const prompt = document.getElementById('pmr-prompt');
            const tryAnotherButton = document.getElementById('pmr-try-another');
            const affirmation = document.querySelector('#pmr-popup .affirmation');
            prompt.textContent = '';
            tryAnotherButton.style.display = 'none';
            affirmation.style.display = 'none';
            pmrIndex = 0;
            if (pmrInterval) clearInterval(pmrInterval);
        }

        // Nature Walk
        let walkInterval = null;
        function initWalk() {
            // Placeholder for initialization if needed
        }

        function startWalkTechnique(type) {
            const timer = document.getElementById('walk-timer');
            const progress = document.getElementById('walk-progress');
            const prompts = {
                'mindful': 'Walk slowly and notice your surroundings—focus on each step and your breath.',
                'sensory': 'Pay attention to the sights, sounds, and smells around you as you walk.',
                'gratitude': 'Reflect on things you’re grateful for in your environment as you walk.'
            };
            timer.textContent = prompts[type];
            let timeLeft = 300;
            progress.style.width = '100%';

            walkInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                progress.style.width = `${(timeLeft / 300) * 100}%`;
                if (timeLeft <= 0) {
                    clearInterval(walkInterval);
                    timer.textContent = 'Walk complete! Take a moment to reflect on how you feel.';
                    document.querySelector('#walk-popup .affirmation').style.display = 'block';
                }
            }, 1000);
        }

        function stopWalk() {
            if (walkInterval) {
                clearInterval(walkInterval);
                walkInterval = null;
            }
            const timer = document.getElementById('walk-timer');
            const progress = document.getElementById('walk-progress');
            const affirmation = document.querySelector('#walk-popup .affirmation');
            timer.textContent = '';
            progress.style.width = '0%';
            affirmation.style.display = 'none';
        }

        // Mindful Journaling
        function startJournalingTechnique(type) {
            const prompt = document.getElementById('journaling-prompt');
            const textArea = document.getElementById('journaling-text');
            const saveButton = document.getElementById('journaling-save');
            const prompts = {
                'emotions': 'Write about how you’re feeling right now and why you might feel this way.',
                'goals': 'Reflect on a goal you’d like to achieve and what steps you can take toward it.',
                'challenges': 'Describe a challenge you’re facing and how you might approach it differently.'
            };
            prompt.textContent = prompts[type];
            textArea.style.display = 'block';
            saveButton.style.display = 'inline-flex';
        }

        function saveJournaling() {
            const text = document.getElementById('journaling-text').value;
            if (text) {
                const today = new Date('2025-04-27').toISOString().split('T')[0];
                let entries = JSON.parse(localStorage.getItem(`journaling-${today}`)) || [];
                entries.push({ text, timestamp: new Date().toISOString() });
                localStorage.setItem(`journaling-${today}`, JSON.stringify(entries));
                document.querySelector('#journaling-popup .affirmation').style.display = 'block';
                document.getElementById('journaling-save').style.display = 'none';
            }
        }

        function resetJournaling() {
            const prompt = document.getElementById('journaling-prompt');
            const textArea = document.getElementById('journaling-text');
            const saveButton = document.getElementById('journaling-save');
            const affirmation = document.querySelector('#journaling-popup .affirmation');
            prompt.textContent = '';
            textArea.style.display = 'none';
            textArea.value = '';
            saveButton.style.display = 'none';
            affirmation.style.display = 'none';
        }

        // Cognitive Reframing
        function startReframingTechnique(type) {
            const prompt = document.getElementById('reframing-prompt');
            const textArea = document.getElementById('reframing-text');
            const saveButton = document.getElementById('reframing-save');
            const prompts = {
                'negative-thought': 'Write a negative thought you’re having, then reframe it into a more balanced perspective.',
                'stressful-event': 'Describe a recent stressful event, then find a positive or neutral way to view it.',
                'self-criticism': 'Write a self-critical thought, then reframe it with self-compassion.'
            };
            prompt.textContent = prompts[type];
            textArea.style.display = 'block';
            saveButton.style.display = 'inline-flex';
        }

        function saveReframing() {
            const text = document.getElementById('reframing-text').value;
            if (text) {
                const today = new Date('2025-04-27').toISOString().split('T')[0];
                let entries = JSON.parse(localStorage.getItem(`reframing-${today}`)) || [];
                entries.push({ text, timestamp: new Date().toISOString() });
                localStorage.setItem(`reframing-${today}`, JSON.stringify(entries));
                document.querySelector('#reframing-popup .affirmation').style.display = 'block';
                document.getElementById('reframing-save').style.display = 'none';
            }
        }

        function resetReframing() {
            const prompt = document.getElementById('reframing-prompt');
            const textArea = document.getElementById('reframing-text');
            const saveButton = document.getElementById('reframing-save');
            const affirmation = document.querySelector('#reframing-popup .affirmation');
            prompt.textContent = '';
            textArea.style.display = 'none';
            textArea.value = '';
            saveButton.style.display = 'none';
            affirmation.style.display = 'none';
        }

        function analyzeActivityTrends() {
            const today = new Date('2025-04-27').toISOString().split('T')[0];
            const allActivities = [];
            for (let day = 1; day <= 27; day++) {
                const dateStr = `2025-04-${String(day).padStart(2, '0')}`;
                const activities = JSON.parse(localStorage.getItem(`activity-${dateStr}`)) || [];
                activities.forEach(activity => {
                    allActivities.push({ date: dateStr, ...activity });
                });
            }

            const recentActivity = allActivities.length > 0 ? allActivities[allActivities.length - 1] : null;
            const recentActivityText = document.getElementById('recentActivityText');
            const recentActivityInsight = document.getElementById('recentActivityInsight');
            if (recentActivity) {
                recentActivityText.textContent = `${recentActivity.name} (${recentActivity.date})`;
                recentActivityInsight.textContent = recentActivity.date === today ? 'Nice job today – keep it up!' : 'Try a new activity today to boost your mood!';
            } else {
                recentActivityText.textContent = 'No activities logged yet.';
                recentActivityInsight.textContent = 'Start by trying an activity above!';
            }

            const activityCounts = {};
            allActivities.forEach(activity => {
                activityCounts[activity.name] = (activityCounts[activity.name] || 0) + 1;
            });
            const mostFrequentActivity = Object.keys(activityCounts).reduce((a, b) => activityCounts[a] > activityCounts[b] ? a : b, null);
            const frequentActivityText = document.getElementById('frequentActivityText');
            const frequentActivityInsight = document.getElementById('frequentActivityInsight');
            if (mostFrequentActivity) {
                frequentActivityText.textContent = `${mostFrequentActivity} (${activityCounts[mostFrequentActivity]} times)`;
                if (mostFrequentActivity === 'Breathing Exercises') {
                    frequentActivityInsight.textContent = 'Breathing exercises are great for reducing stress – keep it up!';
                } else if (mostFrequentActivity === 'Gratitude Notes') {
                    frequentActivityInsight.textContent = 'Gratitude notes boost positivity – nice choice!';
                } else {
                    frequentActivityInsight.textContent = `${mostFrequentActivity} is working well for you – great job!`;
                }
            } else {
                frequentActivityText.textContent = 'No activities logged yet.';
                frequentActivityInsight.textContent = 'Try an activity to see trends.';
            }

            const logMoodCTA = document.getElementById('logMoodCTA');
            const todayMood = localStorage.getItem(`mood-${today}`);
            if (todayMood) {
                logMoodCTA.textContent = `Today's Mood: ${todayMood}`;
                logMoodCTA.style.backgroundColor = '#A9A9A9';
                logMoodCTA.removeAttribute('href');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-bar .nav-links a');
            const mainContent = document.querySelector('.main-content');

            mainContent.classList.add('fade-in');
            adjustMainContentPadding();
            setupActivityCards();
            analyzeActivityTrends();

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    mainContent.classList.remove('fade-in');
                    mainContent.classList.add('fade-out');
                    setTimeout(() => {
                        window.location.href = link.href;
                    }, 500);
                });
            });

            window.addEventListener('resize', adjustMainContentPadding);
        });
    </script>
</body>
</html>
