<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MoodTask Activities - Science-backed activities to improve your mood and emotional well-being.">
    <meta name="keywords" content="MoodTask, mental health, activities, emotional well-being, stress relief">
    <meta name="robots" content="index, follow">
    <meta name="author" content="MoodTask">
    <title>MoodTask - Activities</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-15181337633801567" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            color: #333;
            transition: background-color 0.3s ease;
        }
        .nav-bar {
            background-color: #fff;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            max-width: 1400px;
            margin: 0 auto;
            left: 0;
            right: 0;
            height: 60px;
            backdrop-filter: blur(5px);
            background-color: rgba(255, 255, 255, 0.95);
        }
        .nav-bar .logo {
            font-size: 1.5em;
            font-weight: 700;
            color: #4A90E2;
        }
        .nav-bar .nav-links {
            display: flex;
            align-items: center;
            gap: 18px;
            padding-left: 30px;
            padding-right: 20px;
        }
        .nav-bar a {
            padding: 10px 15px;
            text-decoration: none;
            color: #2C3E50;
            font-weight: 400;
            transition: color 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
            border-radius: 5px;
        }
        .nav-bar a:hover {
            background-color: #f0f0f0;
            color: #2C3E50;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .nav-bar a.active {
            background-color: #4A90E2;
            color: white;
            font-weight: 600;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .burger-menu {
            display: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #2C3E50;
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1001;
            padding: 10px;
            transition: color 0.3s ease;
        }
        .burger-menu:hover {
            color: #4A90E2;
        }
        .main-content {
            transition: opacity 0.5s ease;
            padding-top: 60px;
        }
        .main-content.fade-out {
            opacity: 0;
        }
        .main-content.fade-in {
            opacity: 1;
        }
        .hero {
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
            color: white;
            padding: 60px 20px;
            text-align: center;
            position: relative;
        }
        .hero h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .hero p {
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        .content-wrapper {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .welcome-guide {
            flex: 1;
            max-width: 600px;
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin: 20px auto;
            text-align: left;
        }
        .welcome-guide h2 {
            font-size: 1.8em;
            font-weight: 600;
            color: #2C3E50;
            margin-bottom: 15px;
        }
        .welcome-guide h3 {
            font-size: 1.3em;
            font-weight: 500;
            color: #4A90E2;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        .welcome-guide p {
            font-size: 1em;
            line-height: 1.6;
            color: #333;
            margin-bottom: 15px;
        }
        .welcome-guide a {
            color: #4A90E2;
            text-decoration: none;
        }
        .welcome-guide a:hover {
            text-decoration: underline;
        }
        .activity-section {
            margin-top: 30px;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        .activity-section h2 {
            font-size: 1.8em;
            font-weight: 600;
            color: white;
            margin-bottom: 8px;
        }
        .expert-quote {
            font-size: 1em;
            color: white;
            line-height: 1.5;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        .expert-quote .quote {
            font-style: italic;
            display: block;
            margin-top: 5px;
        }
        .activity-row {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding-bottom: 10px;
            scrollbar-width: thin;
            scrollbar-color: #4A90E2 #2C3E50;
        }
        .activity-row::-webkit-scrollbar {
            height: 8px;
        }
        .activity-row::-webkit-scrollbar-track {
            background: #2C3E50;
            border-radius: 4px;
        }
        .activity-row::-webkit-scrollbar-thumb {
            background: #4A90E2;
            border-radius: 4px;
        }
        .activity-row::-webkit-scrollbar-thumb:hover {
            background: #3B82F6;
        }
        .activity-card {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            width: 200px;
            flex: 0 0 auto;
            text-align: center;
            transition: transform 0.3s, background 0.3s;
            cursor: pointer;
        }
        .activity-card:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.3);
        }
        .thumbnail-area {
            width: 100%;
            height: 120px;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
        }
        .thumbnail-area i {
            font-size: 2.5em;
            color: white;
        }
        .activity-card h3 {
            font-size: 1em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        /* Category-specific gradients */
        .activity-card.breathing .thumbnail-area {
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
        }
        .activity-card.gratitude .thumbnail-area {
            background: linear-gradient(135deg, #F4A261, #FF6F61);
        }
        .activity-card.meditation .thumbnail-area {
            background: linear-gradient(135deg, #9F7AEA, #B794F4);
        }
        .activity-card.pmr .thumbnail-area {
            background: linear-gradient(135deg, #2C7A7B, #4C9A9B);
        }
        .activity-card.journaling .thumbnail-area {
            background: linear-gradient(135deg, #6B46C1, #805AD5);
        }
        .activity-card.reframing .thumbnail-area {
            background: linear-gradient(135deg, #FF6F61, #E53E3E);
        }
        .activity-card.exercise .thumbnail-area {
            background: linear-gradient(135deg, #4A90E2, #77AADD);
        }
        .footer {
            background-color: #333;
            color: white;
            padding: 40px 20px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            text-align: left;
        }
        .footer h3 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        .footer a {
            color: #D6D1F5;
            text-decoration: none;
            display: block;
            margin: 5px 0;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .footer .affiliate-note {
            font-size: 0.8em;
            color: #aaa;
            margin-top: 20px;
            text-align: center;
            width: 100%;
        }
        .footer .connect a {
            padding: 10px 20px;
            margin: 5px 0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 5px;
            text-decoration: none;
        }
        .footer .connect .coffee {
            background-color: #FFC107;
            color: #333;
        }
        .footer .connect .therapy {
            background-color: #4A90E2;
            color: white;
        }
        .footer .connect .mindfulness {
            background-color: #6BCB77;
            color: white;
        }
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .popup-content {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            position: relative;
            text-align: center;
            font-size: 1em;
            line-height: 1.6;
            font-weight: 400;
        }
        .popup-content h4 {
            font-size: 1.3em;
            font-weight: 600;
            line-height: 1.6;
            color: #2C3E50;
        }
        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 1.2em;
            cursor: pointer;
            color: #333;
        }
        .task-tiles {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 10px 0;
        }
        .task-tile {
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 0.9em;
            font-weight: 500;
            line-height: 1.6;
            transition: transform 0.2s, box-shadow 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            width: 120px;
            height: 80px;
            padding: 10px;
            text-align: center;
        }
        .task-tile:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .task-tile.breathing-type {
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
        }
        .task-tile.breathing-type:hover {
            background: linear-gradient(135deg, #3B82F6, #1A2A44);
        }
        .task-tile.gratitude-type {
            background: linear-gradient(135deg, #F4A261, #FF6F61);
        }
        .task-tile.gratitude-type:hover {
            background: linear-gradient(135deg, #ED8936, #F56565);
        }
        .task-tile.meditation-type {
            background: linear-gradient(135deg, #9F7AEA, #B794F4);
        }
        .task-tile.meditation-type:hover {
            background: linear-gradient(135deg, #805AD5, #9F7AEA);
        }
        .task-tile.pmr-type {
            background: linear-gradient(135deg, #2C7A7B, #4C9A9B);
        }
        .task-tile.pmr-type:hover {
            background: linear-gradient(135deg, #1A5F60, #2C7A7B);
        }
        .task-tile.journaling-type {
            background: linear-gradient(135deg, #6B46C1, #805AD5);
        }
        .task-tile.journaling-type:hover {
            background: linear-gradient(135deg, #553C9A, #6B46C1);
        }
        .task-tile.reframing-type {
            background: linear-gradient(135deg, #FF6F61, #E53E3E);
        }
        .task-tile.reframing-type:hover {
            background: linear-gradient(135deg, #F56565, #C53030);
        }
        .task-tile.exercise-type {
            background: linear-gradient(135deg, #4A90E2, #77AADD);
        }
        .task-tile.exercise-type:hover {
            background: linear-gradient(135deg, #3B82F6, #5A9BD5);
        }
        .breathing-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 20px auto;
        }
        #breathing-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-size: 1em;
            position: absolute;
            top: 10px;
            left: 10px;
            transition: transform 0.5s ease-in-out, background 0.5s ease-in-out;
        }
        #breathing-pulse {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: rgba(74, 144, 226, 0.3);
            position: absolute;
            top: 0;
            left: 0;
            animation: pulse 2s infinite ease-in-out;
        }
        @keyframes pulse {
            0% { transform: scale(0.8); opacity: 0.5; }
            50% { transform: scale(1.2); opacity: 0.2; }
            100% { transform: scale(0.8); opacity: 0.5; }
        }
        #breathing-circle.inhale {
            transform: scale(1.2);
            background: linear-gradient(135deg, #4A90E2, #85C1E9);
        }
        #breathing-circle.hold {
            transform: scale(1);
            background: linear-gradient(135deg, #3B82F6, #4A90E2);
        }
        #breathing-circle.exhale {
            transform: scale(0.8);
            background: linear-gradient(135deg, #2C3E50, #4A90E2);
        }
        #breathing-step, #breathing-timer {
            font-size: 0.9em;
            font-weight: 500;
        }
        #breathing-timer {
            font-size: 0.8em;
            margin-top: 5px;
            opacity: 0.9;
        }
        #breathing-instruction, #meditation-prompt, #pmr-prompt, #journaling-prompt, #reframing-prompt {
            margin: 10px 0;
            font-size: 1.1em;
            line-height: 1.6;
            font-weight: 500;
        }
        #journaling-text, #reframing-text {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin: 10px 0;
            resize: none;
            font-size: 1em;
            line-height: 1.6;
            font-weight: 400;
        }
        .gratitude-textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #F4A261;
            background: #fff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin: 10px 0;
            resize: vertical;
            font-family: 'Poppins', sans-serif;
            font-size: 1em;
            line-height: 1.6;
            color: #333;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .gratitude-textarea:focus {
            border-color: #FF6F61;
            box-shadow: 0 6px 15px rgba(255, 111, 97, 0.2);
            outline: none;
        }
        .action-button {
            background: #4A90E2;
            color: #fff;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 1em;
            font-weight: 500;
            line-height: 1.6;
            transition: background-color 0.3s;
        }
        .action-button:hover {
            background: #2C3E50;
        }
        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
            flex-wrap: wrap;
        }
        .timer-adjust-button {
            background: #4A90E2;
            color: #fff;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s;
        }
        .timer-adjust-button:hover {
            background: #2C3E50;
        }
        .timer-pause-button {
            background: #FF6F61;
            color: #fff;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .timer-pause-button:hover {
            background: #E53E3E;
        }
        .timer-start-button {
            background: #6BCB77;
            color: #fff;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .timer-start-button:hover {
            background: #5BBF66;
        }
        .progress-container {
            width: 100%;
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            margin: 10px 0;
        }
        .progress-bar {
            height: 100%;
            background: #4A90E2;
            border-radius: 5px;
            transition: width 1s linear;
        }
        .timer-display {
            font-size: 2em;
            font-weight: 600;
            color: #2C3E50;
            margin: 10px 0;
        }
        .timer-info {
            font-size: 1em;
            color: #555;
            margin: 5px 0;
        }
        .timer-settings {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 10px 0;
        }
        .timer-setting {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 0;
        }
        .timer-setting label {
            font-weight: 500;
            color: #333;
        }
        .timer-setting input {
            width: 60px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: center;
        }
        .ad-container {
            min-width: 300px;
            width: 100%;
            margin: 20px auto;
            text-align: center;
        }
        @media (max-width: 600px) {
            .nav-bar {
                height: 50px;
                padding: 5px 10px;
                justify-content: space-between;
                align-items: center;
            }
            .nav-bar .logo {
                font-size: 1.2em;
                margin-left: 10px;
            }
            .nav-bar .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 50px;
                left: 0;
                width: 100%;
                background-color: #fff;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                padding: 10px 0;
            }
            .nav-bar .nav-links.active {
                display: flex;
            }
            .nav-bar a {
                padding: 10px;
                width: 100%;
                text-align: center;
                box-sizing: border-box;
            }
            .nav-bar .dropdown {
                width: 100%;
            }
            .nav-bar .dropdown-content {
                width: 100%;
                left: 0;
                position: relative;
                box-shadow: none;
            }
            .burger-menu {
                display: block;
            }
            .main-content {
                padding-top: 70px;
            }
            .hero {
                padding: 40px 15px;
            }
            .hero h1 {
                font-size: 1.8em;
            }
            .activity-row {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
                overflow-x: visible;
            }
            .activity-card {
                width: 140px;
                height: 140px;
                padding: 10px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }
            .thumbnail-area {
                height: 80px;
                width: 80px;
            }
            .thumbnail-area i {
                font-size: 2em;
            }
            .activity-card h3 {
                font-size: 0.9em;
                margin-bottom: 0;
            }
            .content-wrapper {
                flex-direction: column;
                padding: 0 10px;
            }
            .welcome-guide {
                margin: 20px auto;
                max-width: 100%;
                padding: 20px;
            }
            .welcome-guide h2 {
                font-size: 1.5em;
            }
            .welcome-guide h3 {
                font-size: 1.2em;
            }
            .welcome-guide p {
                font-size: 0.95em;
            }
            .task-tile {
                width: 100px;
                height: 70px;
                font-size: 0.85em;
            }
            .expert-quote {
                font-size: 0.9em;
            }
            .breathing-container {
                width: 100px;
                height: 100px;
            }
            #breathing-circle {
                width: 80px;
                height: 80px;
                top: 10px;
                left: 10px;
            }
            #breathing-pulse {
                width: 100px;
                height: 100px;
            }
            .ad-container {
                min-width: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="nav-bar">
        <div class="logo">MoodTask</div>
        <div class="burger-menu" onclick="toggleMenu()">
            <i class="fas fa-bars"></i>
        </div>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="calendar.html">Dashboard</a>
            <a href="activities.html" class="active">Activities</a>
            <a href="music.html">Mood Music</a>
            <a href="blog.html">Blog</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Use</a>
        </div>
    </div>
    <div class="main-content fade-in">
        <div class="hero">
            <h1>Boost Your Mood with Activities</h1>
            <p>Discover science-backed activities to improve your emotional well-being.</p>
            <div class="activity-section">
                <div class="activity-section">
                    <h2>Breathing Exercises</h2>
                    <div class="expert-quote">
                        Breathing exercises help reduce stress by calming the nervous system.
                        <span class="quote">"Controlled breathing can lower heart rate and reduce anxiety in minutes by activating the parasympathetic response." — Dr. Andrew Huberman, Neuroscientist (Huberman Lab Podcast, 2021)</span>
                    </div>
                    <div class="activity-row">
                        <div class="activity-card breathing" data-tool="breathing" data-technique="diaphragmatic" onclick="openPopup('breathing', 'diaphragmatic')">
                            <div class="thumbnail-area">
                                <i class="fas fa-wind"></i>
                            </div>
                            <h3>360 Diaphragmatic</h3>
                        </div>
                        <div class="activity-card breathing" data-tool="breathing" data-technique="resonance" onclick="openPopup('breathing', 'resonance')">
                            <div class="thumbnail-area">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <h3>Resonance</h3>
                        </div>
                        <div class="activity-card breathing" data-tool="breathing" data-technique="4-7-8" onclick="openPopup('breathing', '4-7-8')">
                            <div class="thumbnail-area">
                                <i class="fas fa-clock"></i>
                            </div>
                            <h3>4-7-8</h3>
                        </div>
                        <div class="activity-card breathing" data-tool="breathing" data-technique="box" onclick="openPopup('breathing', 'box')">
                            <div class="thumbnail-area">
                                <i class="fas fa-square"></i>
                            </div>
                            <h3>Box Breathing</h3>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Exercise Activity</h2>
                    <div class="expert-quote">
                        Exercise boosts mood by releasing endorphins and reducing stress hormones.
                        <span class="quote">"Physical activity can increase endorphin levels, improving mood and reducing anxiety in just 10 minutes." — Dr. John Ratey, Exercise Researcher (Spark, 2008)</span>
                    </div>
                    <div class="activity-row">
                        <div class="activity-card exercise" data-tool="exercise" data-technique="amrap" onclick="openPopup('exercise', 'amrap')">
                            <div class="thumbnail-area">
                                <i class="fas fa-stopwatch"></i>
                            </div>
                            <h3>AMRAP</h3>
                        </div>
                        <div class="activity-card exercise" data-tool="exercise" data-technique="for-time" onclick="openPopup('exercise', 'for-time')">
                            <div class="thumbnail-area">
                                <i class="fas fa-clock"></i>
                            </div>
                            <h3>For Time</h3>
                        </div>
                        <div class="activity-card exercise" data-tool="exercise" data-technique="emom" onclick="openPopup('exercise', 'emom')">
                            <div class="thumbnail-area">
                                <i class="fas fa-hourglass"></i>
                            </div>
                            <h3>EMOM</h3>
                        </div>
                        <div class="activity-card exercise" data-tool="exercise" data-technique="tabata" onclick="openPopup('exercise', 'tabata')">
                            <div class="thumbnail-area">
                                <i class="fas fa-fire"></i>
                            </div>
                            <h3>Tabata</h3>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Gratitude Notes</h2>
                    <div class="expert-quote">
                        Gratitude notes foster positivity by shifting focus to what's good in life.
                        <span class="quote">"Practicing gratitude can increase happiness by 25% and improve overall mental health." — Dr. Robert Emmons, Gratitude Researcher (Thanks!, 2007)</span>
                    </div>
                    <div class="activity-row">
                        <div class="activity-card gratitude" data-tool="gratitude" data-technique="daily" onclick="openPopup('gratitude', 'daily')">
                            <div class="thumbnail-area">
                                <i class="fas fa-sun"></i>
                            </div>
                            <h3>Daily Gratitude</h3>
                        </div>
                        <div class="activity-card gratitude" data-tool="gratitude" data-technique="relationships" onclick="openPopup('gratitude', 'relationships')">
                            <div class="thumbnail-area">
                                <i class="fas fa-heart"></i>
                            </div>
                            <h3>Relationships</h3>
                        </div>
                        <div class="activity-card gratitude" data-tool="gratitude" data-technique="achievements" onclick="openPopup('gratitude', 'achievements')">
                            <div class="thumbnail-area">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h3>Achievements</h3>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Guided Meditation</h2>
                    <div class="expert-quote">
                        Meditation enhances mindfulness and reduces stress by grounding your focus.
                        <span class="quote">"Meditation allows us to be with what is, without judgment, fostering deep calm." — Jon Kabat-Zinn, Mindfulness Expert (Wherever You Go, There You Are, 1994)</span>
                    </div>
                    <div class="activity-row">
                        <div class="activity-card meditation" data-tool="meditation" data-technique="breath-awareness" onclick="openPopup('meditation', 'breath-awareness')">
                            <div class="thumbnail-area">
                                <i class="fas fa-wind"></i>
                            </div>
                            <h3>Breath Awareness</h3>
                        </div>
                        <div class="activity-card meditation" data-tool="meditation" data-technique="body-scan" onclick="openPopup('meditation', 'body-scan')">
                            <div class="thumbnail-area">
                                <i class="fas fa-user"></i>
                            </div>
                            <h3>Body Scan</h3>
                        </div>
                        <div class="activity-card meditation" data-tool="meditation" data-technique="visualization" onclick="openPopup('meditation', 'visualization')">
                            <div class="thumbnail-area">
                                <i class="fas fa-eye"></i>
                            </div>
                            <h3>Visualization</h3>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Progressive Muscle Relaxation</h2>
                    <div class="expert-quote">
                        PMR relieves physical tension by systematically relaxing muscle groups.
                        <span class="quote">"Progressive relaxation reduces stress by teaching the body to release tension naturally." — Dr. Edmund Jacobson, PMR Founder (Progressive Relaxation, 1938)</span>
                    </div>
                    <div class="activity-row">
                        <div class="activity-card pmr" data-tool="pmr" data-technique="full-body" onclick="openPopup('pmr', 'full-body')">
                            <div class="thumbnail-area">
                                <i class="fas fa-hand"></i>
                            </div>
                            <h3>Full Body</h3>
                        </div>
                        <div class="activity-card pmr" data-tool="pmr" data-technique="lower-body" onclick="openPopup('pmr', 'lower-body')">
                            <div class="thumbnail-area">
                                <i class="fas fa-shoe-prints"></i>
                            </div>
                            <h3>Lower Body</h3>
                        </div>
                        <div class="activity-card pmr" data-tool="pmr" data-technique="upper-body" onclick="openPopup('pmr', 'upper-body')">
                            <div class="thumbnail-area">
                                <i class="fas fa-dumbbell"></i>
                            </div>
                            <h3>Upper Body</h3>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Mindful Journaling</h2>
                    <div class="expert-quote">
                        Journaling helps process emotions by providing a safe space for reflection.
                        <span class="quote">"Writing about emotions can reduce stress and improve mental clarity over time." — Dr. James Pennebaker, Expressive Writing Researcher (Opening Up, 1990)</span>
                    </div>
                    <div class="activity-row">
                        <div class="activity-card journaling" data-tool="journaling" data-technique="emotions" onclick="openPopup('journaling', 'emotions')">
                            <div class="thumbnail-area">
                                <i class="fas fa-pen"></i>
                            </div>
                            <h3>Explore Emotions</h3>
                        </div>
                        <div class="activity-card journaling" data-tool="journaling" data-technique="goals" onclick="openPopup('journaling', 'goals')">
                            <div class="thumbnail-area">
                                <i class="fas fa-lightbulb"></i>
                            </div>
                            <h3>Reflect on Goals</h3>
                        </div>
                        <div class="activity-card journaling" data-tool="journaling" data-technique="challenges" onclick="openPopup('journaling', 'challenges')">
                            <div class="thumbnail-area">
                                <i class="fas fa-mountain"></i>
                            </div>
                            <h3>Address Challenges</h3>
                        </div>
                    </div>
                </div>
                <div class="activity-section">
                    <h2>Cognitive Reframing</h2>
                    <div class="expert-quote">
                        Reframing shifts negative thought patterns to promote emotional resilience.
                        <span class="quote">"Changing how we think about a situation can transform how we feel about it." — Dr. Aaron Beck, Founder of Cognitive Therapy (Cognitive Therapy and the Emotional Disorders, 1976)</span>
                    </div>
                    <div class="activity-row">
                        <div class="activity-card reframing" data-tool="reframing" data-technique="negative-thought" onclick="openPopup('reframing', 'negative-thought')">
                            <div class="thumbnail-area">
                                <i class="fas fa-brain"></i>
                            </div>
                            <h3>Reframe a Negative Thought</h3>
                        </div>
                        <div class="activity-card reframing" data-tool="reframing" data-technique="stressful-event" onclick="openPopup('reframing', 'stressful-event')">
                            <div class="thumbnail-area">
                                <i class="fas fa-cloud"></i>
                            </div>
                            <h3>Reframe a Stressful Event</h3>
                        </div>
                        <div class="activity-card reframing" data-tool="reframing" data-technique="self-criticism" onclick="openPopup('reframing', 'self-criticism')">
                            <div class="thumbnail-area">
                                <i class="fas fa-smile"></i>
                            </div>
                            <h3>Reframe Self-Criticism</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="content-wrapper">
            <div class="welcome-guide">
                <h2>Your Guide to Mood-Boosting Activities</h2>
                <p>Welcome to MoodTask's Activities page, your go-to resource for improving emotional well-being through science-backed tools. We understand that life can be overwhelming, and small, intentional actions can make a big difference in how you feel. That's why we've curated a variety of activities—such as Breathing Exercises, Gratitude Notes, Guided Meditation, Progressive Muscle Relaxation, Mindful Journaling, and Cognitive Reframing—to support you in moments of stress, anxiety, or low energy. Each activity is designed to help you reconnect with yourself, reduce negative emotions, and foster a sense of balance. Whether you're looking to calm your mind, boost positivity, or process your feelings, there's an activity here for you. Dive in and discover how these tools can transform your daily experience.</p>
                
                <h3>Why These Activities Work</h3>
                <p>Engaging in intentional activities can profoundly impact your mental health by targeting specific neurological and physiological pathways. For example, deep breathing exercises, as noted by neuroscientist Dr. Andrew Huberman, activate the parasympathetic nervous system, which slows your heart rate and reduces cortisol levels, helping you feel calmer within minutes. A 2018 study in <em>Psychophysiology</em> supports this, showing a 20% reduction in stress after just 2 minutes of diaphragmatic breathing (Ma et al., 2018). Similarly, gratitude practices increase dopamine and enhance activity in the brain's prefrontal cortex, improving emotional regulation, according to a 2016 study in the <em>Journal of Neuroscience</em> (Fox et al., 2016). Activities like Mindful Journaling and Cognitive Reframing, rooted in cognitive-behavioral therapy, help you process emotions and shift negative thought patterns, fostering resilience. At MoodTask, we've carefully selected these tools to provide quick, effective ways to improve your emotional state, backed by decades of research in psychology and neuroscience.</p>
                
                <h3>How to Use This Page</h3>
                <p>Getting started with MoodTask's activities is simple and intuitive. Browse the sections below, each dedicated to a unique tool like Breathing Exercises or Gratitude Notes. Within each section, you'll find a row of options—like 4-7-8 or Box Breathing for Breathing Exercises. Select an option by clicking on the card to open a popup with guided prompts. After finishing, explore our other activities to find what suits you best. We recommend exploring all the options to discover which ones resonate most with you—whether you need to relax, refocus, or build emotional strength. Each activity takes just a few minutes but can have a lasting impact on your day.</p>
                
                <h3>Maximizing Your Experience</h3>
                <p>To get the most out of these activities, consistency and mindfulness are key. Start by setting aside 5-10 minutes each day to try one activity—perhaps a breathing exercise in the morning to start your day calmly, or a gratitude reflection before bed to end on a positive note. Pair activities with complementary tools on MoodTask: for example, listen to our <a href="music.html">Relaxation playlist</a> during a Guided Meditation session to enhance the calming effect. Don't rush; focus on being fully present during each session. Over time, these small habits can become powerful tools for managing stress and cultivating a more balanced, joyful life.</p>
                
                <h3>Explore More with MoodTask</h3>
                <p>Your journey to emotional wellness doesn't stop here—MoodTask offers a variety of resources to support you. After trying these activities, visit our <a href="music.html">Mood Music</a> page to find calming tracks for relaxation or upbeat playlists to energize your day. Our <a href="blog.html">Blog</a> offers in-depth articles on mindfulness, stress management, and mental health, packed with science-backed tips to complement your activities. For a more personalized experience, explore our affiliate partners' offerings, such as <a href="https://www.mindfulness.com/?aff_id=67890">mindfulness apps</a> for guided meditations or <a href="https://www.online-therapy.com/?aff_id=12345">online therapy</a> for professional support. MoodTask is here to help you create a more balanced, joyful life, one activity at a time. Start exploring today and see the difference these tools can make!</p>
            </div>
        </div>
        <div class="footer">
            <div>
                <h3>MoodTask</h3>
                <p>Transform your mood with science-backed activities designed to improve your emotional well-being.</p>
            </div>
            <div>
                <h3>Quick Links</h3>
                <a href="index.html">Home</a>
                <a href="privacy.html">Privacy Policy</a>
                <a href="terms.html">Terms of Use</a>
            </div>
            <div class="connect">
                <h3>Connect</h3>
                <a href="https://twitter.com/share?url=https://moodtask.org"><i class="fab fa-twitter"></i> Share on Twitter</a>
                <a href="https://www.buymeacoffee.com/moodtask" class="coffee"><i class="fas fa-coffee"></i> Buy Me a Coffee</a>
                <a href="https://www.online-therapy.com/?aff_id=12345" class="therapy">Online Therapy</a>
                <a href="https://www.mindfulness.com/?aff_id=67890" class="mindfulness">Mindfulness</a>
            </div>
            <div class="affiliate-note">
                AFFILIATE DISCLOSURE: Some links on this site are affiliate links. We may earn a commission on purchases at no extra cost to you.<br>
                © 2025 MoodTask. All rights reserved.
            </div>
        </div>

        <!-- Popups -->
        <div id="breathing-popup" class="popup">
            <div class="popup-content">
                <h4>Breathing Exercises</h4>
                <p id="breathing-instruction"></p>
                <div class="breathing-container">
                    <div id="breathing-pulse"></div>
                    <div id="breathing-circle" style="display: none;">
                        <span id="breathing-step">Inhale</span>
                        <span id="breathing-timer">4s</span>
                    </div>
                </div>
                <button class="close-button" onclick="closePopup('breathing')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="gratitude-popup" class="popup">
            <div class="popup-content">
                <h4>Gratitude Notes</h4>
                <p id="gratitude-prompt"></p>
                <textarea class="gratitude-textarea" id="gratitude-text" rows="3" style="display: none;"></textarea>
                <button class="close-button" onclick="closePopup('gratitude')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="meditation-popup" class="popup">
            <div class="popup-content">
                <h4>Guided Meditation</h4>
                <p id="meditation-prompt"></p>
                <button class="close-button" onclick="closePopup('meditation')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="pmr-popup" class="popup">
            <div class="popup-content">
                <h4>Progressive Muscle Relaxation</h4>
                <p id="pmr-prompt"></p>
                <button class="close-button" onclick="closePopup('pmr')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="journaling-popup" class="popup">
            <div class="popup-content">
                <h4>Mindful Journaling</h4>
                <p id="journaling-prompt"></p>
                <textarea id="journaling-text" rows="3" style="display: none;"></textarea>
                <button class="close-button" onclick="closePopup('journaling')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="reframing-popup" class="popup">
            <div class="popup-content">
                <h4>Cognitive Reframing</h4>
                <p id="reframing-prompt"></p>
                <textarea id="reframing-text" rows="3" style="display: none;"></textarea>
                <button class="close-button" onclick="closePopup('reframing')"><i class="fas fa-times"></i></button>
            </div>
        </div>
        <div id="exercise-popup" class="popup">
            <div class="popup-content">
                <h4>Exercise Activity</h4>
                <div class="timer-settings">
                    <div class="timer-setting">
                        <label>Rounds:</label>
                        <input type="number" id="exercise-rounds" value="5" min="1">
                    </div>
                    <div class="timer-setting">
                        <label>Work (s):</label>
                        <input type="number" id="exercise-work" value="20" min="1">
                    </div>
                    <div class="timer-setting">
                        <label>Rest (s):</label>
                        <input type="number" id="exercise-rest" value="10" min="0">
                    </div>
                </div>
                <div class="timer-display" id="exercise-timer">00:00</div>
                <div class="timer-info" id="exercise-info"></div>
                <div class="progress-container"><div id="exercise-progress" class="progress-bar"></div></div>
                <div class="timer-controls">
                    <button class="timer-start-button" id="exercise-start" onclick="startExercise()">Start</button>
                    <button class="timer-pause-button" id="exercise-pause" onclick="pauseResumeExercise()" style="display: none;">Pause</button>
                    <button class="timer-adjust-button" onclick="adjustTimer('exercise', -10)">-10s</button>
                    <button class="timer-adjust-button" onclick="adjustTimer('exercise', 10)">+10s</button>
                </div>
                <button class="close-button" onclick="closePopup('exercise')"><i class="fas fa-times"></i></button>
            </div>
        </div>
    </div>
    <script>
        function toggleMenu() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('active');
        }

        function adjustMainContentPadding() {
            const navBar = document.querySelector('.nav-bar');
            const mainContent = document.querySelector('.main-content');
            if (navBar && mainContent) {
                const navHeight = navBar.offsetHeight;
                mainContent.style.paddingTop = `${navHeight + 10}px`;
                console.log('Adjusted main content padding to:', mainContent.style.paddingTop);
            } else {
                console.error('Nav bar or main content not found for padding adjustment');
            }
        }

        function setupActivityCards() {
            const activityCards = document.querySelectorAll('.activity-card');
            activityCards.forEach((card) => {
                card.addEventListener('click', () => {
                    const tool = card.getAttribute('data-tool');
                    const technique = card.getAttribute('data-technique');
                    openPopup(tool, technique);
                    console.log(`Opened popup for activity: ${tool}, technique: ${technique}`);
                });
            });
            console.log('Activity cards set up with', activityCards.length, 'cards');
        }

        function openPopup(tool, technique) {
            const popup = document.getElementById(`${tool}-popup`);
            popup.style.display = 'flex';

            if (tool === 'breathing') startBreathingTechnique(technique);
            if (tool === 'gratitude') startGratitudeTechnique(technique);
            if (tool === 'meditation') startMeditationTechnique(technique);
            if (tool === 'pmr') startPMRTechnique(technique);
            if (tool === 'journaling') startJournalingTechnique(technique);
            if (tool === 'reframing') startReframingTechnique(technique);
            if (tool === 'exercise') {
                initExercise();
                setupExerciseTechnique(technique);
            }
        }

        function closePopup(tool) {
            const popup = document.getElementById(`${tool}-popup`);
            popup.style.display = 'none';
            if (tool === 'breathing') stopBreathing();
            if (tool === 'meditation') resetMeditation();
            if (tool === 'pmr') resetPMR();
            if (tool === 'gratitude') resetGratitude();
            if (tool === 'journaling') resetJournaling();
            if (tool === 'reframing') resetReframing();
            if (tool === 'exercise') stopExercise();
        }

        // Breathing Exercises
        let breathingInterval = null;
        let countdownInterval = null;
        function startBreathingTechnique(type) {
            const circle = document.getElementById('breathing-circle');
            const stepText = document.getElementById('breathing-step');
            const timerText = document.getElementById('breathing-timer');
            const instruction = document.getElementById('breathing-instruction');
            let phaseIndex = 0;
            let phaseTime = 0;
            let countdown = 0;

            const techniques = {
                'diaphragmatic': {
                    instruction: 'Place a hand on your belly. Inhale deeply through your nose, expanding your belly, then exhale slowly. Practice for 60 seconds.',
                    phases: [
                        { name: 'inhale', duration: 4, text: 'Inhale' },
                        { name: 'hold', duration: 2, text: 'Hold' },
                        { name: 'exhale', duration: 6, text: 'Exhale' }
                    ]
                },
                'resonance': {
                    instruction: 'Breathe smoothly through your nose. Inhale for 5 seconds, exhale for 5 seconds to find your rhythm. Practice for 60 seconds.',
                    phases: [
                        { name: 'inhale', duration: 5, text: 'Inhale' },
                        { name: 'exhale', duration: 5, text: 'Exhale' }
                    ]
                },
                '4-7-8': {
                    instruction: 'Inhale quietly through your nose for 4 seconds, hold for 7 seconds, then exhale through pursed lips for 8 seconds. Practice for 60 seconds.',
                    phases: [
                        { name: 'inhale', duration: 4, text: 'Inhale' },
                        { name: 'hold', duration: 7, text: 'Hold' },
                        { name: 'exhale', duration: 8, text: 'Exhale' }
                    ]
                },
                'box': {
                    instruction: 'Inhale through your nose for 4 seconds, hold for 4 seconds, exhale for 4 seconds, hold again for 4 seconds—like a box pattern. Practice for 60 seconds.',
                    phases: [
                        { name: 'inhale', duration: 4, text: 'Inhale' },
                        { name: 'hold', duration: 4, text: 'Hold' },
                        { name: 'exhale', duration: 4, text: 'Exhale' },
                        { name: 'hold', duration: 4, text: 'Hold' }
                    ]
                }
            };

            const selectedTechnique = techniques[type];
            const phases = selectedTechnique.phases;
            instruction.textContent = selectedTechnique.instruction;
            circle.style.display = 'flex';

            if (breathingInterval) clearInterval(breathingInterval);
            if (countdownInterval) clearInterval(countdownInterval);

            countdown = phases[phaseIndex].duration;
            timerText.textContent = `${countdown}s`;

            breathingInterval = setInterval(() => {
                phaseTime++;
                const currentPhase = phases[phaseIndex];
                if (phaseTime >= currentPhase.duration) {
                    phaseTime = 0;
                    phaseIndex = (phaseIndex + 1) % phases.length;
                    const nextPhase = phases[phaseIndex];
                    stepText.textContent = nextPhase.text;
                    circle.className = 'inhale hold exhale';
                    circle.classList.add(nextPhase.name);
                    countdown = nextPhase.duration;
                    timerText.textContent = `${countdown}s`;
                }
            }, 1000);

            countdownInterval = setInterval(() => {
                countdown--;
                if (countdown >= 0) {
                    timerText.textContent = `${countdown}s`;
                }
            }, 1000);

            setTimeout(() => {
                stopBreathing();
            }, 60000);
        }

        function stopBreathing() {
            if (breathingInterval) {
                clearInterval(breathingInterval);
                breathingInterval = null;
            }
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }
        }

        // Gratitude Notes
        function startGratitudeTechnique(type) {
            const textArea = document.getElementById('gratitude-text');
            const prompt = document.getElementById('gratitude-prompt');
            const prompts = {
                'daily': 'Write about three things you are grateful for today.',
                'relationships': 'Reflect on a relationship that brings you joy and why.',
                'achievements': 'Describe a recent achievement you're proud of and how it made you feel.'
            };
            prompt.textContent = prompts[type];
            textArea.style.display = 'block';
            textArea.placeholder = prompts[type];
        }

        function resetGratitude() {
            const prompt = document.getElementById('gratitude-prompt');
            const textArea = document.getElementById('gratitude-text');
            prompt.textContent = '';
            textArea.style.display = 'none';
            textArea.value = '';
        }

        // Guided Meditation
        function startMeditationTechnique(type) {
            const prompt = document.getElementById('meditation-prompt');
            const prompts = {
                'breath-awareness': 'Focus on your breath. Inhale deeply, exhale slowly, and notice the air moving through your body for 60 seconds.',
                'body-scan': 'Close your eyes and mentally scan your body from head to toe, noticing any sensations without judgment for 60 seconds.',
                'visualization': 'Imagine a peaceful place—like a beach or forest. Picture the details and immerse yourself for 60 seconds.'
            };
            prompt.textContent = prompts[type];
            setTimeout(() => {
                prompt.textContent = 'Meditation complete. Take a moment to notice how you feel.';
            }, 60000);
        }

        function resetMeditation() {
            const prompt = document.getElementById('meditation-prompt');
            prompt.textContent = '';
        }

        // Progressive Muscle Relaxation
        let pmrIndex = 0;
        let pmrInterval = null;
        function startPMRTechnique(type) {
            const prompt = document.getElementById('pmr-prompt');
            const muscleGroups = {
                'full-body': [
                    'Clench your fists tightly for 5 seconds, then relax for 10 seconds.',
                    'Tense your arms by flexing your biceps for 5 seconds, then relax for 10 seconds.',
                    'Shrug your shoulders up to your ears for 5 seconds, then relax for 10 seconds.',
                    'Tense your stomach muscles for 5 seconds, then relax for 10 seconds.',
                    'Clench your thighs for 5 seconds, then relax for 10 seconds.',
                    'Point your toes upward to tense your calves for 5 seconds, then relax for 10 seconds.'
                ],
                'lower-body': [
                    'Clench your thighs for 5 seconds, then relax for 10 seconds.',
                    'Point your toes upward to tense your calves for 5 seconds, then relax for 10 seconds.',
                    'Curl your toes under to tense your feet for 5 seconds, then relax for 10 seconds.'
                ],
                'upper-body': [
                    'Clench your fists tightly for 5 seconds, then relax for 10 seconds.',
                    'Tense your arms by flexing your biceps for 5 seconds, then relax for 10 seconds.',
                    'Shrug your shoulders up to your ears for 5 seconds, then relax for 10 seconds.'
                ]
            };
            const selectedGroups = muscleGroups[type];
            pmrIndex = 0;

            function nextStep() {
                if (pmrIndex < selectedGroups.length) {
                    prompt.textContent = selectedGroups[pmrIndex];
                    pmrIndex++;
                    setTimeout(() => {
                        prompt.textContent = 'Relax and breathe deeply...';
                        setTimeout(nextStep, 10000);
                    }, 5000);
                } else {
                    prompt.textContent = 'PMR session complete. Take a moment to notice how relaxed you feel.';
                    clearInterval(pmrInterval);
                }
            }

            nextStep();
        }

        function resetPMR() {
            const prompt = document.getElementById('pmr-prompt');
            prompt.textContent = '';
            pmrIndex = 0;
            if (pmrInterval) clearInterval(pmrInterval);
        }

        // Mindful Journaling
        function startJournalingTechnique(type) {
            const prompt = document.getElementById('journaling-prompt');
            const textArea = document.getElementById('journaling-text');
            const prompts = {
                'emotions': 'Write about how you're feeling right now and why you might feel this way.',
                'goals': 'Reflect on a goal you'd like to achieve and what steps you can take toward it.',
                'challenges': 'Describe a challenge you're facing and how you might approach it differently.'
            };
            prompt.textContent = prompts[type];
            textArea.style.display = 'block';
        }

        function resetJournaling() {
            const prompt = document.getElementById('journaling-prompt');
            const textArea = document.getElementById('journaling-text');
            prompt.textContent = '';
            textArea.style.display = 'none';
            textArea.value = '';
        }

        // Cognitive Reframing
        function startReframingTechnique(type) {
            const prompt = document.getElementById('reframing-prompt');
            const textArea = document.getElementById('reframing-text');
            const prompts = {
                'negative-thought': 'Write a negative thought you're having, then reframe it into a more balanced perspective.',
                'stressful-event': 'Describe a recent stressful event, then find a positive or neutral way to view it.',
                'self-criticism': 'Write a self-critical thought, then reframe it with self-compassion.'
            };
            prompt.textContent = prompts[type];
            textArea.style.display = 'block';
        }

        function resetReframing() {
            const prompt = document.getElementById('reframing-prompt');
            const textArea = document.getElementById('reframing-text');
            prompt.textContent = '';
            textArea.style.display = 'none';
            textArea.value = '';
        }

        // Exercise Activity
        let exerciseInterval = null;
        let exercisePaused = false;
        let exerciseTimeLeft = 0;
        let exerciseTotalTime = 0;
        let currentRound = 0;
        let totalRounds = 0;
        let workTime = 0;
        let restTime = 0;
        let exerciseType = '';
        let forTimeElapsed = 0;

        function initExercise() {
            const timer = document.getElementById('exercise-timer');
            const progress = document.getElementById('exercise-progress');
            const info = document.getElementById('exercise-info');
            const startButton = document.getElementById('exercise-start');
            const pauseButton = document.getElementById('exercise-pause');
            timer.textContent = '00:00';
            progress.style.width = '0%';
            info.textContent = '';
            startButton.style.display = 'inline-block';
            pauseButton.style.display = 'none';
            exercisePaused = false;
            currentRound = 0;
            exerciseTimeLeft = 0;
            forTimeElapsed = 0;
        }

        function setupExerciseTechnique(type) {
            exerciseType = type;
            const roundsInput = document.getElementById('exercise-rounds');
            const workInput = document.getElementById('exercise-work');
            const restInput = document.getElementById('exercise-rest');
            totalRounds = parseInt(roundsInput.value) || 5;
            workTime = parseInt(workInput.value) || 20;
            restTime = parseInt(restInput.value) || 10;
            exerciseTotalTime = (type === 'tabata') ? 240 : (type === 'emom') ? 60 * totalRounds : (type === 'for-time') ? 3600 : workTime; // 1-hour max for For Time
            exerciseTimeLeft = (type === 'amrap') ? workTime : (type === 'tabata') ? 20 : (type === 'emom') ? 60 : (type === 'for-time') ? 0 : 0;
            forTimeElapsed = 0;
            const info = document.getElementById('exercise-info');
            const timer = document.getElementById('exercise-timer');
            const minutes = Math.floor((type === 'for-time' ? forTimeElapsed : exerciseTimeLeft) / 60);
            const seconds = (type === 'for-time' ? forTimeElapsed : exerciseTimeLeft) % 60;
            timer.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            info.textContent = `${type.toUpperCase()} - ${type === 'for-time' ? 'Elapsed Time' : 'Time Remaining'}`;
        }

        function startExercise() {
            const startButton = document.getElementById('exercise-start');
            const pauseButton = document.getElementById('exercise-pause');
            startButton.style.display = 'none';
            pauseButton.style.display = 'inline-block';

            totalRounds = parseInt(document.getElementById('exercise-rounds').value) || 5;
            workTime = parseInt(document.getElementById('exercise-work').value) || 20;
            restTime = parseInt(document.getElementById('exercise-rest').value) || 10;
            exerciseTotalTime = (exerciseType === 'tabata') ? 240 : (exerciseType === 'emom') ? 60 * totalRounds : (exerciseType === 'for-time') ? 3600 : workTime;
            exerciseTimeLeft = (exerciseType === 'amrap') ? workTime : (exerciseType === 'tabata') ? 20 : (exerciseType === 'emom') ? 60 : (exerciseType === 'for-time') ? 0 : 0;
            forTimeElapsed = 0;

            const timer = document.getElementById('exercise-timer');
            const progress = document.getElementById('exercise-progress');
            const info = document.getElementById('exercise-info');

            function updateTimer() {
                if (!exercisePaused) {
                    const minutes = Math.floor((exerciseType === 'for-time' ? forTimeElapsed : exerciseTimeLeft) / 60);
                    const seconds = (exerciseType === 'for-time' ? forTimeElapsed : exerciseTimeLeft) % 60;
                    timer.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

                    if (exerciseType === 'amrap') {
                        progress.style.width = `${((workTime - exerciseTimeLeft) / workTime) * 100}%`;
                        if (exerciseTimeLeft <= 0) {
                            clearInterval(exerciseInterval);
                            info.textContent = 'AMRAP - Complete!';
                            pauseButton.style.display = 'none';
                            return;
                        }
                        exerciseTimeLeft--;
                    } else if (exerciseType === 'for-time') {
                        forTimeElapsed++;
                        progress.style.width = `${(forTimeElapsed / 3600) * 100}%`;
                        if (forTimeElapsed >= 3600) {
                            clearInterval(exerciseInterval);
                            info.textContent = 'FOR TIME - Complete! (1 hour max)';
                            pauseButton.style.display = 'none';
                            return;
                        }
                    } else if (exerciseType === 'emom') {
                        progress.style.width = `${((currentRound * 60 + (60 - exerciseTimeLeft)) / (totalRounds * 60)) * 100}%`;
                        if (exerciseTimeLeft <= 0) {
                            currentRound++;
                            if (currentRound < totalRounds) {
                                exerciseTimeLeft = 60;
                                info.textContent = `EMOM - Round ${currentRound + 1}/${totalRounds}`;
                            } else {
                                clearInterval(exerciseInterval);
                                info.textContent = 'EMOM - Complete!';
                                pauseButton.style.display = 'none';
                                return;
                            }
                        }
                        exerciseTimeLeft--;
                    } else if (exerciseType === 'tabata') {
                        progress.style.width = `${((240 - exerciseTimeLeft) / 240) * 100}%`;
                        if (exerciseTimeLeft <= 0) {
                            if (currentRound < 7) {
                                currentRound++;
                                exerciseTimeLeft = (currentRound % 2 === 0) ? restTime : workTime;
                                info.textContent = `TABATA - ${currentRound % 2 === 0 ? 'Rest' : 'Work'} (${Math.floor(currentRound / 2) + 1}/8)`;
                            } else {
                                clearInterval(exerciseInterval);
                                info.textContent = 'TABATA - Complete!';
                                pauseButton.style.display = 'none';
                                return;
                            }
                        }
                        exerciseTimeLeft--;
                    }
                }
            }

            if (exerciseInterval) clearInterval(exerciseInterval);
            exerciseInterval = setInterval(updateTimer, 1000);
            updateTimer();
        }

        function stopExercise() {
            if (exerciseInterval) {
                clearInterval(exerciseInterval);
                exerciseInterval = null;
            }
            exercisePaused = false;
            currentRound = 0;
            exerciseTimeLeft = 0;
            exerciseTotalTime = 0;
            forTimeElapsed = 0;
            const timer = document.getElementById('exercise-timer');
            const progress = document.getElementById('exercise-progress');
            const info = document.getElementById('exercise-info');
            const pauseButton = document.getElementById('exercise-pause');
            const startButton = document.getElementById('exercise-start');
            timer.textContent = '00:00';
            progress.style.width = '0%';
            info.textContent = '';
            pauseButton.style.display = 'none';
            startButton.style.display = 'inline-block';
        }

        function pauseResumeExercise() {
            const pauseButton = document.getElementById('exercise-pause');
            exercisePaused = !exercisePaused;
            pauseButton.textContent = exercisePaused ? 'Resume' : 'Pause';
        }

        function adjustTimer(tool, adjustment) {
            if (tool === 'exercise' && exerciseTimeLeft > 0) {
                exerciseTimeLeft = Math.max(0, exerciseTimeLeft + adjustment);
                const minutes = Math.floor(exerciseTimeLeft / 60);
                const seconds = exerciseTimeLeft % 60;
                document.getElementById('exercise-timer').textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                exerciseTotalTime = Math.max(exerciseTotalTime, exerciseTimeLeft);
            }
        }

        // AdSense initialization with delay and visibility check
        function initializeAds() {
            const adContainer = document.querySelector('.ad-container');
            if (!adContainer) {
                console.error('Ad container not found');
                return;
            }

            const isContainerReady = () => {
                const rect = adContainer.getBoundingClientRect();
                return rect.width > 0 && rect.height > 0;
            };

            const tryPushAd = () => {
                try {
                    if (isContainerReady()) {
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        console.log('AdSense initialized successfully');
                    } else {
                        console.warn('Ad container not ready, retrying...');
                        setTimeout(tryPushAd, 500);
                    }
                } catch (e) {
                    console.error('AdSense push failed:', e);
                }
            };

            setTimeout(tryPushAd, 100);
        }

        // Initial Setup
        window.addEventListener('load', () => {
            adjustMainContentPadding();
            setupActivityCards();
            window.addEventListener('resize', adjustMainContentPadding);
            console.log('Page loaded and initialized');

            // AdSense placement
            const adContainer = document.createElement('div');
            adContainer.className = 'ad-container';
            adContainer.innerHTML = `
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-15181337633801567"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            `;
            document.querySelector('.content-wrapper').appendChild(adContainer);

            // Initialize ads after DOM is ready
            initializeAds();
        });

        // Smooth page transitions
        document.querySelectorAll('.nav-bar a').forEach(link => {
            link.addEventListener('click', (e) => {
                const href = link.getAttribute('href');
                if (href !== window.location.pathname) {
                    e.preventDefault();
                    const mainContent = document.querySelector('.main-content');
                    mainContent.classList.remove('fade-in');
                    mainContent.classList.add('fade-out');
                    setTimeout(() => {
                        window.location.href = href;
                    }, 500);
                }
            });
        });
    </script>
</body>
</html>
